import{r,u as f,j as e}from"./index-DcYbG7au.js";function y(){const[d,p]=r.useState(""),[l,m]=r.useState(""),[c,a]=r.useState(""),[s,u]=r.useState(!1),x=f(),[n,g]=r.useState("de");r.useEffect(()=>{const t=localStorage.getItem("siteLang");t&&["en","de"].includes(t)?g(t):g(navigator.language.startsWith("de")?"de":"en")},[]),r.useEffect(()=>{localStorage.setItem("siteLang",n)},[n]);const h=async t=>{t.preventDefault(),u(!0),a("");try{const o=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:d,password:l})}),i=await o.json();o.ok&&i.success?(localStorage.setItem("adminAuth","true"),localStorage.setItem("adminToken",i.token),x("/admin")):a(i.error||"Fehler bei der Anmeldung")}catch(o){a("Beim Verbinden mit dem Server ist ein Fehler aufgetreten."),console.error(o)}finally{u(!1)}};return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f0f2f5",padding:"20px"},children:e.jsxs("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",width:"100%",maxWidth:"400px"},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:"20px",color:"#333"},children:n==="de"?"üîê Administrations-Login":"üîê Administration login"}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#555"},children:n==="de"?"Benutzername":"user name"}),e.jsx("input",{type:"text",value:d,onChange:t=>p(t.target.value),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem"}})]}),e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#555"},children:n==="de"?"Passwort":"password"}),e.jsx("input",{type:"password",value:l,onChange:t=>m(t.target.value),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem"}})]}),c&&e.jsx("p",{style:{color:"red",fontSize:"0.9rem",textAlign:"center"},children:c}),e.jsx("button",{type:"submit",disabled:s,style:{width:"100%",padding:"12px",backgroundColor:s?"#ccc":"#1877f2",color:"white",border:"none",borderRadius:"6px",fontSize:"1rem",cursor:s?"not-allowed":"pointer"},children:s?"√úberpr√ºfung l√§uft...":"Eingang"})]})]})})}export{y as default};
